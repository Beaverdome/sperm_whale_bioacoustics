---

title: Clan and coda type detection with Random Forest

keywords: fastai
sidebar: home_sidebar

summary: "Can we get comparable results using a technique that doesn't require specialized NN training knowledge, doesn't require a GPU and lends itself well to interpretation?"
description: "Can we get comparable results using a technique that doesn't require specialized NN training knowledge, doesn't require a GPU and lends itself well to interpretation?"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 06_Clan_and_coda_type_detection_with_Random_Forest.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    {% raw %}
        
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In this notebook we will explore the performance of Random Forest. This is an often overlooked algorithm that is extremely powerful from a modelling perspective and also has the following characeteristics:</p>
<ul>
<li>can be run on the CPU</li>
<li>doesn't require specialized neural network construction and training knowledge</li>
<li>can tell us a lot about the data we are working with (lends itself well to interpetation)</li>
</ul>
<p>You can learn more about this algorithm from this extremely valuable online resource: <a href="https://github.com/fastai/fastbook/blob/master/09_tabular.ipynb">Fastbook by Fast.ai chapter 9</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Clan-detection">Clan detection<a class="anchor-link" href="#Clan-detection"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's grab the train and validation sets as dataframes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sperm_whale_bioacoustics.data</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GridSearchCV</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">train_clan</span> <span class="o">=</span> <span class="n">datasets_clan</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">datasets_clan</span><span class="o">.</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">valid_clan</span> <span class="o">=</span> <span class="n">datasets_clan</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">datasets_clan</span><span class="o">.</span><span class="n">splits</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train_clan</span> <span class="o">=</span> <span class="n">train_clan</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">13</span><span class="p">]</span>
<span class="n">y_train_clan</span> <span class="o">=</span> <span class="n">train_clan</span><span class="o">.</span><span class="n">Clan</span>

<span class="n">X_valid_clan</span> <span class="o">=</span> <span class="n">valid_clan</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">13</span><span class="p">]</span>
<span class="n">y_valid_clan</span> <span class="o">=</span> <span class="n">valid_clan</span><span class="o">.</span><span class="n">Clan</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">clf</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">()</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_clan</span><span class="p">,</span> <span class="n">y_train_clan</span><span class="p">);</span>

<span class="n">clf</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_valid_clan</span><span class="p">,</span> <span class="n">y_valid_clan</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.9526315789473684</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>95.3% accuracy is the performance we would get out of <code>RandomForestClassifier</code> without any hyperparam tuning! This is slightly better than our RNN result with just a couple of lines of code!</p>
<p>Quite interestingly, it is also the exact result reported in the paper!</p>
<p>Let's see if we can do better with extensive parameter tuning. Note that throughout this procedure we don't show our validation set to the model for training or evaluation - this reduces the risk of overitting hyperparameter values to our validation set.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;n_estimators&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1500</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">4000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">],</span>
    <span class="s1">&#39;min_samples_leaf&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
    <span class="s1">&#39;max_features&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
    <span class="s1">&#39;max_samples&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">search</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">RandomForestClassifier</span><span class="p">(),</span> <span class="n">params</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">time</span> search.fit(X_train_clan, y_train_clan);
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 13 s, sys: 252 ms, total: 13.2 s
Wall time: 10min 26s
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>GridSearchCV(cv=3, error_score=nan,
             estimator=RandomForestClassifier(bootstrap=True, ccp_alpha=0.0,
                                              class_weight=None,
                                              criterion=&#39;gini&#39;, max_depth=None,
                                              max_features=&#39;auto&#39;,
                                              max_leaf_nodes=None,
                                              max_samples=None,
                                              min_impurity_decrease=0.0,
                                              min_impurity_split=None,
                                              min_samples_leaf=1,
                                              min_samples_split=2,
                                              min_weight_fraction_leaf=0.0,
                                              n_estimators=100, n_jobs=None,
                                              oob_score=False,
                                              random_state=None, verbose=0,
                                              warm_start=False),
             iid=&#39;deprecated&#39;, n_jobs=-1,
             param_grid={&#39;max_features&#39;: [0.3, 0.5, 0.7, 1.0],
                         &#39;max_samples&#39;: [0.1, 0.3, 0.5, 0.7, 0.9, 1],
                         &#39;min_samples_leaf&#39;: [1, 2],
                         &#39;n_estimators&#39;: [300, 600, 1000, 1500, 2000, 4000,
                                          10000]},
             pre_dispatch=&#39;2*n_jobs&#39;, refit=True, return_train_score=False,
             scoring=None, verbose=0)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">search</span><span class="o">.</span><span class="n">best_params_</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;max_features&#39;: 0.5,
 &#39;max_samples&#39;: 0.9,
 &#39;min_samples_leaf&#39;: 1,
 &#39;n_estimators&#39;: 4000}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">search</span><span class="o">.</span><span class="n">best_estimator_</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_valid_clan</span><span class="p">,</span> <span class="n">y_valid_clan</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.9473684210526315</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This doesn't improve our results. We used results on the training set to pick out the best performing model and seems it overfits to the train set.</p>
<p>Let's take a look at model interpretation.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Model-interpretation">Model interpretation<a class="anchor-link" href="#Model-interpretation"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The model can classify examples up to a high degree accuracy. Can it tell us which features have it found most telling, most important for the task of discerning the clan membership?</p>
<p>Yes, it can!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Feature-importance">Feature importance<a class="anchor-link" href="#Feature-importance"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># grabbing the code directly from https://github.com/fastai/fastbook/blob/master/09_tabular.ipynb</span>
<span class="k">def</span> <span class="nf">rf_feat_importance</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;cols&#39;</span><span class="p">:</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="s1">&#39;imp&#39;</span><span class="p">:</span><span class="n">m</span><span class="o">.</span><span class="n">feature_importances_</span><span class="p">}</span>
                       <span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;imp&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rf_feat_importance</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">X_valid_clan</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cols</th>
      <th>imp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>ICI4</td>
      <td>0.406383</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ICI3</td>
      <td>0.287055</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ICI2</td>
      <td>0.102021</td>
    </tr>
    <tr>
      <th>0</th>
      <td>ICI1</td>
      <td>0.080892</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ICI5</td>
      <td>0.056486</td>
    </tr>
    <tr>
      <th>5</th>
      <td>ICI6</td>
      <td>0.040113</td>
    </tr>
    <tr>
      <th>6</th>
      <td>ICI7</td>
      <td>0.017132</td>
    </tr>
    <tr>
      <th>7</th>
      <td>ICI8</td>
      <td>0.006218</td>
    </tr>
    <tr>
      <th>8</th>
      <td>ICI9</td>
      <td>0.003701</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We get a listing of features in order of their relative importance, of how much they contributed to making the predictions relative to each other.</p>
<p>We can see that interclick interval #4 is most telling followed by ICI3 and than there is a large distance and ICI1 follows.</p>
<p>What else can we learn about whale communication?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Correlation-between-columns-in-our-dataset">Correlation between columns in our dataset<a class="anchor-link" href="#Correlation-between-columns-in-our-dataset"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The following doesn't make use of the model that we trained, but it is also an interesting question to ask - which interclick intervals (in terms of duration) track each other most closely?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># code taken from https://github.com/fastai/fastbook/blob/master/utils.py</span>

<span class="kn">from</span> <span class="nn">scipy.cluster</span> <span class="kn">import</span> <span class="n">hierarchy</span> <span class="k">as</span> <span class="n">hc</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">scipy</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">def</span> <span class="nf">cluster_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">12</span><span class="p">):</span>
    <span class="n">corr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">spearmanr</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">correlation</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">corr_condensed</span> <span class="o">=</span> <span class="n">hc</span><span class="o">.</span><span class="n">distance</span><span class="o">.</span><span class="n">squareform</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">corr</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">hc</span><span class="o">.</span><span class="n">linkage</span><span class="p">(</span><span class="n">corr_condensed</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;average&#39;</span><span class="p">)</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">)</span>
    <span class="n">hc</span><span class="o">.</span><span class="n">dendrogram</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">leaf_font_size</span><span class="o">=</span><span class="n">font_size</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cluster_columns</span><span class="p">(</span><span class="n">X_train_clan</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We see that ICI1 tracks the duration of ICI2, ICI3 the duration of ICI4, and so on. It also seems that the last, very infrequent ICI9, seems more independent.</p>
<p>This reinforces the sequential structure of a coda - the duration of an ICI is overall most closely related to the duration of the surrounding ICIs.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Partial-dependence">Partial dependence<a class="anchor-link" href="#Partial-dependence"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's go back to querying our model and construct partial dependence plots. This is a technique that allows us to answer the following question: if the only thing that varied was a given column, say ICI4, how would that affect the prediction?</p>
<p>From the above considerations we know that ICI4 plays a key role in discerning between the clans. But what values of the ICI4 are most associated with each clan? Let's find out.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.inspection</span> <span class="kn">import</span> <span class="n">plot_partial_dependence</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">clf</span><span class="o">.</span><span class="n">classes_</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([&#39;EC1&#39;, &#39;EC2&#39;], dtype=object)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plot_partial_dependence</span><span class="p">(</span>
    <span class="n">clf</span><span class="p">,</span>
    <span class="n">X_valid_clan</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">&#39;ICI4&#39;</span><span class="p">,</span> <span class="s1">&#39;ICI3&#39;</span><span class="p">],</span>
    <span class="n">grid_resolution</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;EC1&#39;</span><span class="p">,</span> <span class="s1">&#39;EC2&#39;</span><span class="p">],</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">);</span>

<span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Partial dependence plots for EC2&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Text(0.5, 0.98, &#39;Partial dependence plots for EC2&#39;)</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can see that there is a sharp jump roughly around 0.20 for ICI4. Once it crosses this threshold it immediately becomes a very strong indication that the coda orignated from a whale belonging to the EC2 clan.</p>
<p>With ICI3 the shift is more gradual - shorter intervals are associated with belonging to the EC1 clan and and association with the EC2 clan becomes linearly more probably as the interval grows past the 0.20 mark.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Understanding-predictions-on-single-example">Understanding predictions on single example<a class="anchor-link" href="#Understanding-predictions-on-single-example"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we explore our data, we might be interested in understanding why our model made this specific prediction on a given row or data.</p>
<p>To this effect, we can use this very handy waterfall chart.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="ne">FutureWarning</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">treeinterpreter</span> <span class="kn">import</span> <span class="n">treeinterpreter</span>
<span class="kn">from</span> <span class="nn">waterfall_chart</span> <span class="kn">import</span> <span class="n">plot</span> <span class="k">as</span> <span class="n">waterfall</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">prediction</span><span class="p">,</span><span class="n">bias</span><span class="p">,</span><span class="n">contributions</span> <span class="o">=</span> <span class="n">treeinterpreter</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">X_valid_clan</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Our model is convinced the whale belongs to the EC1 clan.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y_valid_clan</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;EC1&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And it is right! Let's see how it arrived at this prediction.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_valid_clan</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;ICI1&#39;, &#39;ICI2&#39;, &#39;ICI3&#39;, &#39;ICI4&#39;, &#39;ICI5&#39;, &#39;ICI6&#39;, &#39;ICI7&#39;, &#39;ICI8&#39;, &#39;ICI9&#39;], dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># code take from https://github.com/fastai/fastbook/blob/master/09_tabular.ipynb</span>

<span class="n">waterfall</span><span class="p">(</span><span class="n">X_valid_clan</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">contributions</span><span class="p">[</span><span class="mi">0</span><span class="p">][:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.08</span><span class="p">,</span> 
          <span class="n">rotation_value</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">formatting</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">{:,.3f}</span><span class="s1">&#39;</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For this particular example the durations of the listed ICIs all suggest, according to the model, that the whale belongs to the EC1. We can also see that the ICI3 was particularly indicative.</p>
<p>This is an unparalleled level of information that our model provides and does so with relative ease. It's performance falls slightly short of the performance of the RNN reported in the paper, nonetheless it facilitates carrying out a very detailed analysis of our data. It also doesn't require specialized hardware and allows a person carrying out the inquiry to arrive at the results much quicker than should they have to piece together training an RNN (even with a tool facilitating rapid prototyping like thie <code>fastai</code> library)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Coda-type-detection">Coda type detection<a class="anchor-link" href="#Coda-type-detection"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We will now attempt coda type detection using Random Forest. Let's see how we will fare on this task.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">train_coda</span> <span class="o">=</span> <span class="n">datasets_coda</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">datasets_coda</span><span class="o">.</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">valid_coda</span> <span class="o">=</span> <span class="n">datasets_coda</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">datasets_coda</span><span class="o">.</span><span class="n">splits</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train_coda</span> <span class="o">=</span> <span class="n">train_coda</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">13</span><span class="p">]</span>
<span class="n">y_train_coda</span> <span class="o">=</span> <span class="n">train_coda</span><span class="o">.</span><span class="n">CodaType</span>

<span class="n">X_valid_coda</span> <span class="o">=</span> <span class="n">valid_coda</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">13</span><span class="p">]</span>
<span class="n">y_valid_coda</span> <span class="o">=</span> <span class="n">valid_coda</span><span class="o">.</span><span class="n">CodaType</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train_coda</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">X_valid_coda</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>((7228, 9), (804, 9))</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">clf</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">()</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_coda</span><span class="p">,</span> <span class="n">y_train_coda</span><span class="p">);</span>

<span class="n">clf</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_valid_coda</span><span class="p">,</span> <span class="n">y_valid_coda</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.996268656716418</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the paper, an accuracy of 99.9% is achieved on the validation set, so we are not far off! Let's see if we can improve our results by tuning the hyperparameters.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;n_estimators&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1500</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">4000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">],</span>
    <span class="s1">&#39;min_samples_leaf&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
    <span class="s1">&#39;max_features&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
    <span class="s1">&#39;max_samples&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">search</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">RandomForestClassifier</span><span class="p">(),</span> <span class="n">params</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">time</span> search.fit(X_train_coda, y_train_coda);
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 5.96 s, sys: 192 ms, total: 6.15 s
Wall time: 24min 53s
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>GridSearchCV(cv=3, error_score=nan,
             estimator=RandomForestClassifier(bootstrap=True, ccp_alpha=0.0,
                                              class_weight=None,
                                              criterion=&#39;gini&#39;, max_depth=None,
                                              max_features=&#39;auto&#39;,
                                              max_leaf_nodes=None,
                                              max_samples=None,
                                              min_impurity_decrease=0.0,
                                              min_impurity_split=None,
                                              min_samples_leaf=1,
                                              min_samples_split=2,
                                              min_weight_fraction_leaf=0.0,
                                              n_estimators=100, n_jobs=None,
                                              oob_score=False,
                                              random_state=None, verbose=0,
                                              warm_start=False),
             iid=&#39;deprecated&#39;, n_jobs=-1,
             param_grid={&#39;max_features&#39;: [0.3, 0.5, 0.7, 1.0],
                         &#39;max_samples&#39;: [0.1, 0.3, 0.5, 0.7, 0.9, 1],
                         &#39;min_samples_leaf&#39;: [1, 2],
                         &#39;n_estimators&#39;: [300, 600, 1000, 1500, 2000, 4000,
                                          10000]},
             pre_dispatch=&#39;2*n_jobs&#39;, refit=True, return_train_score=False,
             scoring=None, verbose=0)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">search</span><span class="o">.</span><span class="n">best_params_</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;max_features&#39;: 0.3,
 &#39;max_samples&#39;: 0.7,
 &#39;min_samples_leaf&#39;: 1,
 &#39;n_estimators&#39;: 300}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">search</span><span class="o">.</span><span class="n">best_estimator_</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_valid_coda</span><span class="p">,</span> <span class="n">y_valid_coda</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.996268656716418</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>No improvement, 99.6% accuracy remains as our result!</p>
<p>Given the result, the most interesting question that comes to mind is which examples the model got wrong? Are they mislabled data? Is there something specific about these examples that might be interesting?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">best_estimator_</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">preds</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_valid_coda</span><span class="p">)</span>
<span class="n">preds</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([&#39;1+1+3&#39;, &#39;1+1+3&#39;, &#39;5R1&#39;, &#39;1+1+3&#39;, &#39;1+1+3&#39;, &#39;1+1+3&#39;, &#39;4D&#39;, &#39;1+1+3&#39;,
       &#39;4R2&#39;, &#39;3D&#39;], dtype=object)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">preds</span> <span class="o">!=</span> <span class="n">y_valid_coda</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([274, 320, 523]),)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Just three examples that our model missed! This is what they look like</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_valid_coda</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">preds</span> <span class="o">!=</span> <span class="n">y_valid_coda</span><span class="o">.</span><span class="n">values</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ICI1</th>
      <th>ICI2</th>
      <th>ICI3</th>
      <th>ICI4</th>
      <th>ICI5</th>
      <th>ICI6</th>
      <th>ICI7</th>
      <th>ICI8</th>
      <th>ICI9</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1697</th>
      <td>0.27080</td>
      <td>0.3293</td>
      <td>0.161000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>564</th>
      <td>0.17100</td>
      <td>0.0870</td>
      <td>0.080000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5946</th>
      <td>0.14125</td>
      <td>0.1657</td>
      <td>0.152017</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y_valid_coda</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">preds</span> <span class="o">!=</span> <span class="n">y_valid_coda</span><span class="o">.</span><span class="n">values</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1697     4R2
564      4R1
5946    1+31
Name: CodaType, dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I am not a domain expert, so it is hard for me to comment what went wrong here. Let us nonetheless try to understand better why our model made the prediction it did.</p>
<p>These are the correct labels</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_valid_coda</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">preds</span> <span class="o">!=</span> <span class="n">y_valid_coda</span><span class="o">.</span><span class="n">values</span><span class="p">)[</span><span class="mi">0</span><span class="p">]])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([&#39;1+31&#39;, &#39;1+32&#39;, &#39;4R1&#39;], dtype=object)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's take a look at the first prediction the model got wrong</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">preds</span> <span class="o">!=</span> <span class="n">y_valid_coda</span><span class="o">.</span><span class="n">values</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">prediction</span><span class="p">,</span><span class="n">bias</span><span class="p">,</span><span class="n">contributions</span> <span class="o">=</span> <span class="n">treeinterpreter</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">X_valid_coda</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">waterfall</span><span class="p">(</span><span class="n">X_valid_coda</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">contributions</span><span class="p">[</span><span class="mi">0</span><span class="p">][:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.08</span><span class="p">,</span> 
          <span class="n">rotation_value</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">formatting</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">{:,.3f}</span><span class="s1">&#39;</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can see that the model found the ICI3 followed by ICI2 telling, while the highest contribution to the predction came from the ICI4 being equal to 0 (not surprisingly, that is a very strong indication to not even consider quite a few of the labels).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Summary">Summary<a class="anchor-link" href="#Summary"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Results of our Random Forest models:</p>
<h3 id="Clan-detection">Clan detection<a class="anchor-link" href="#Clan-detection"> </a></h3><table>
<thead><tr>
<th style="text-align:center">model</th>
<th style="text-align:left">accuracy</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">RNN (paper)</td>
<td style="text-align:left">95.3%</td>
</tr>
<tr>
<td style="text-align:center">RNN (ours)</td>
<td style="text-align:left">93.7%</td>
</tr>
<tr>
<td style="text-align:center">Random Forest</td>
<td style="text-align:left">95.3%</td>
</tr>
</tbody>
</table>
<h3 id="Coda-type-detection">Coda type detection<a class="anchor-link" href="#Coda-type-detection"> </a></h3><table>
<thead><tr>
<th style="text-align:center">model</th>
<th style="text-align:left">accuracy</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">RNN (paper)</td>
<td style="text-align:left">99.9%</td>
</tr>
<tr>
<td style="text-align:center">RNN (ours)</td>
<td style="text-align:left">100%</td>
</tr>
<tr>
<td style="text-align:center">Random Forest</td>
<td style="text-align:left">99.6%</td>
</tr>
</tbody>
</table>
<p>Our RNN and Random Forest use the same sampling of the train and validation sets and thus these results are easiest to compare. The paper followed a different sampling of the train and validation sets.</p>
<p>Overall, the differences in performance, given the size of the validation set, are next to insignificant. All the models perform similarly.</p>
<p>An interesting result is the stronger performance of our Random Forest as compared to our RNN on the clan detection task.</p>
<p>We found no benefits to pretraining. For RNNs we got best results when training the entire model from scratch.</p>
<p>The main consideration that we would like to highlight is how much less compute and specialized knowledge was needed to get good results with Random Forest. Above all, the interpretability of the model is unparalleled. The robustness of the method to training on unbalanced data and its legendary ability to not overfit (while still packing enough variance to give good results) makes this a great model to have in one's toolbox.</p>

</div>
</div>
</div>
    {% endraw %}
</div>
 

